name = "road-camera-system"
compatibility_date = "2024-01-15"
compatibility_flags = ["nodejs_compat"]

# é‡å° Cloudflare Pages çš„é…ç½®
# Pages Functions æœƒè‡ªå‹•å°‹æ‰¾ functions/ è³‡æ–™å¤¾

[env.production]
name = "road-camera-system"
routes = [
  { pattern = "example.com/api/*", zone_name = "example.com" }
]

# ç’°å¢ƒè®Šæ•¸é…ç½®
# ã€é‡è¦ã€‘åœ¨ Cloudflare Dashboard ä¸­è¨­å®šä»¥ä¸‹ç’°å¢ƒè®Šæ•¸ï¼š
# 
# Settings > Environment variables
# - TDX_CLIENT_ID: å¡«å…¥æ‚¨çš„ TDX API Client ID
# - TDX_CLIENT_SECRET: å¡«å…¥æ‚¨çš„ TDX API Client Secret
# 
# é€™äº›è®Šæ•¸ä¸æœƒæš´éœ²åœ¨å‰ç«¯ä»£ç¢¼ä¸­ï¼Œå®Œå…¨å®‰å…¨
[vars]
ENVIRONMENT = "production"

# ğŸ“Š D1 è³‡æ–™åº«é…ç½® (Cloudflare æ–‡ä»¶ä¸­å‰µå»ºå¾Œç¶å®š)
# åœ¨ Cloudflare Dashboard â†’ Settings â†’ D1 Database
# å»ºç«‹è³‡æ–™åº«å¾Œï¼Œå–å¾— database_idï¼Œç„¶å¾Œåœ¨ä¸‹æ–¹ç¶å®š
[[d1_databases]]
binding = "DB"
database_name = "road-camera-db"
database_id = "your-database-id"  # ã€é‡è¦ã€‘æ›¿æ›ç‚ºå¯¦éš›çš„ database_id

# æœ¬æ©Ÿé–‹ç™¼ç’°å¢ƒè®Šæ•¸ï¼ˆç”¨æ–¼ wrangler dev æ¸¬è©¦ï¼‰
# æäº¤ GitHub å‰å‹™å¿…ç§»é™¤å¯†é‘°
[env.development]
vars = { ENVIRONMENT = "development" }
# TDX_CLIENT_ID = "your-dev-id"  # æœ¬æ©Ÿé–‹ç™¼æ™‚å¯è¨­å®šï¼Œä½†æäº¤å‰å‹™å¿…åˆªé™¤
# TDX_CLIENT_SECRET = "your-dev-secret"  # æœ¬æ©Ÿé–‹ç™¼æ™‚å¯è¨­å®šï¼Œä½†æäº¤å‰å‹™å¿…åˆªé™¤

# æœ¬æ©Ÿé–‹ç™¼çš„ D1 è³‡æ–™åº« (ä½¿ç”¨ SQLite æª”æ¡ˆ)
# [[d1_databases]]
# binding = "DB"
# database_name = "road-camera-db-dev"
# database_id = "local-dev-db"
