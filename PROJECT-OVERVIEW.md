# 🗺️ 專案總覽

## 📊 系統統計

### 監控頁面
- **交通監控**: 4 個頁面（國道、省道、快速道路、市區）
- **水資源**: 2 個頁面（水資源、河川流域）
- **環境監測**: 2 個頁面（空氣品質、土石流）
- **災防**: 1 個頁面（邊坡監測）
- **核心**: 2 個頁面（首頁、儀表板）

**總計**: 11 個主要監控頁面

### 資源檔案
- **共用資源 (assets/)**: 9 個檔案
- **腳本工具 (scripts/)**: 6 個檔案
- **測試檔案 (test/)**: 20+ 個檔案
- **文檔 (docs/)**: 3 個報告
- **備份 (backup/)**: 多個舊版檔案

---

## 🎨 頁面主題配色

| 頁面 | 主色調 | Emoji | 特色功能 |
|------|--------|-------|----------|
| 首頁 | 紫色漸層 | 🏠 | 全系統入口 |
| 國道 | 藍色 | 🛣️ | 分頁載入 |
| 省道 | 橘色 | 🏞️ | 里程+地標+方向篩選 |
| 快速道路 | 綠松石 | 🚗 | 快速篩選 |
| 市區 | 綠色 | 🏙️ | 縣市分類 |
| 水資源 | 青色 | 💧 | 多源整合 |
| 河川 | 棕色 | 🏞️ | 流域監測 |
| 空氣品質 | 紫色 | 🌫️ | 即時數據 |
| 土石流 | 深棕 | ⛰️ | 地圖標記 |
| 邊坡 | 橘紅 | 🏔️ | 安全監控 |
| 儀表板 | 彩色 | 📊 | 統計總覽 |

---

## 🔧 核心技術

### 前端
- **HTML5**: 結構化語義標籤
- **CSS3**: 漸層、動畫、響應式設計
- **JavaScript (ES6+)**: 模組化、異步處理

### API 整合
- **TDX 交通資料**: 交通部運輸資料流通服務平台
- **即時監視器影像**: 動態載入與錯誤處理

### 特色功能
- **深色模式**: 全站支援，自動儲存偏好
- **響應式設計**: 支援桌面、平板、手機
- **載入進度**: 視覺化載入狀態
- **圖片處理**: 智能載入與錯誤處理
- **里程排序**: 省道監視器按里程數排列
- **方向篩選**: 南北向/東西向分類
- **地標顯示**: 自動識別交流道、橋樑等

---

## 🚀 快速開始

### 1. 環境需求
- 現代瀏覽器（Chrome、Firefox、Edge、Safari）
- 本地 Web 伺服器（或直接開啟 HTML 檔案）

### 2. 開發模式
```powershell
# 啟動開發伺服器
.\scripts\start-server.ps1

# 或使用 Python
python -m http.server 8000

# 或使用 Node.js
npx serve
```

### 3. 訪問頁面
```
http://localhost:8000/index.html
```

---

## 📝 主要更新歷程

### ✨ 最新功能
1. **省道監視器優化** (2025-10-21)
   - 新增里程數排序
   - 新增方向篩選（南/北/東/西）
   - 保留 K+ 格式顯示
   - 自動識別地標（交流道、橋樑、隧道）

2. **圖片載入修復** (2025-10)
   - 修復「載入中」無限等待問題
   - 實作簡化版圖片處理器
   - 全站 10 個頁面同步更新

3. **省道資料篩選** (2025-10-21)
   - 修正國道/省道混淆問題
   - 精確篩選邏輯
   - 排除快速道路

---

## 📦 專案結構說明

### assets/ - 共用資源
所有頁面共用的 JavaScript 和 CSS 檔案，確保一致性和可維護性。

**重要檔案**:
- `config.js`: TDX API 設定（需配置 Client ID 和 Secret）
- `tdx-api.js`: API 呼叫封裝
- `image-handler-simple.js`: 推薦使用的圖片載入處理器

### scripts/ - 工具腳本
部署、建置和開發輔助工具。

### test/ - 測試檔案
開發過程中的測試頁面，不影響正式環境。

### docs/ - 文檔
技術文件和修復報告，記錄重要變更。

### backup/ - 備份
舊版檔案保留，方便回溯。

---

## 🔐 安全性

### API 金鑰
- TDX API 需要 Client ID 和 Secret
- 請在 `assets/config.js` 中配置
- **不要**將金鑰提交到公開儲存庫

### CORS 處理
- 使用 API 代理避免 CORS 問題
- 支援 PHP 代理 (`api-proxy.php`)
- 支援 Cloudflare Workers (`wrangler.toml`)

---

## 📞 支援與協助

### 測試工具
訪問 `test/` 資料夾中的測試頁面進行功能驗證：
- 圖片載入測試
- 里程格式測試
- 省道篩選邏輯測試
- API 連線測試

### 除錯
開啟瀏覽器開發者工具（F12）查看：
- Console 訊息
- Network 請求
- 錯誤堆疊

---

## 📄 授權
本專案使用交通部 TDX 平台提供的公開資料，請遵守相關使用條款。

---

**最後更新**: 2025年10月21日
**版本**: v2.0
**維護者**: Road Camera Team
