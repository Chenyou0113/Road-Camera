# æ°´åˆ©ç½² CCTV ç›£æ§ç«™ç³»çµ±ä½¿ç”¨æŒ‡å—

## ğŸ“‹ ç›®éŒ„

1. [ç³»çµ±æ¦‚è¿°](#ç³»çµ±æ¦‚è¿°)
2. [åŠŸèƒ½ç‰¹è‰²](#åŠŸèƒ½ç‰¹è‰²)
3. [å¿«é€Ÿé–‹å§‹](#å¿«é€Ÿé–‹å§‹)
4. [ç³»çµ±æ¶æ§‹](#ç³»çµ±æ¶æ§‹)
5. [ä½¿ç”¨èªªæ˜](#ä½¿ç”¨èªªæ˜)
6. [è³‡æ–™æ ¼å¼](#è³‡æ–™æ ¼å¼)
7. [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)

---

## ğŸ¯ ç³»çµ±æ¦‚è¿°

æ°´åˆ©ç½² CCTV ç›£æ§ç«™ç³»çµ±æ˜¯ä¸€å€‹å…¨åŠŸèƒ½çš„æ²³å·ç›£æ§å½±åƒå±•ç¤ºå¹³å°ï¼Œæ•´åˆäº†å°ç£æ°´åˆ©ç½²è¶…é 300 å€‹ç›£æ§ç«™é»çš„å³æ™‚å½±åƒè³‡æ–™ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- **ğŸ“Š å³æ™‚çµ±è¨ˆå„€è¡¨æ¿**ï¼šé¡¯ç¤ºç¸½ç›£æ§ç«™æ•¸ã€é‹ä½œç‹€æ…‹ã€æµåŸŸåˆ†å¸ƒç­‰çµ±è¨ˆè³‡è¨Š
- **ğŸ—ºï¸ äº’å‹•å¼åœ°åœ–å®šä½**ï¼šä½¿ç”¨ Leaflet.js æä¾›åœ°åœ–æ¨™è¨˜å’Œå®šä½åŠŸèƒ½
- **ğŸ” å¤šç¶­åº¦ç¯©é¸ç³»çµ±**ï¼šæ”¯æ´ç¸£å¸‚ã€æµåŸŸã€è¡Œæ”¿å€ã€æ”¯æµç­‰å¤šé‡ç¯©é¸
- **ğŸ–¼ï¸ å½±åƒå±•ç¤ºèˆ‡ç®¡ç†**ï¼šå¡ç‰‡å¼å’Œåˆ—è¡¨å¼é›™é‡é¡¯ç¤ºæ¨¡å¼
- **ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šå®Œç¾æ”¯æ´æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿç­‰å„ç¨®è£ç½®

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### 1. æ™ºèƒ½ç¯©é¸ç³»çµ±

```javascript
// æ”¯æ´çš„ç¯©é¸æ¢ä»¶ï¼š
- ç¸£å¸‚ï¼ˆCounties and Citiesï¼‰
- æµåŸŸï¼ˆBasinï¼‰
- è¡Œæ”¿å€ï¼ˆAdministrative Districtï¼‰
- æ”¯æµï¼ˆTributaryï¼‰
- é‹ä½œç‹€æ…‹ï¼ˆStatusï¼‰
- é—œéµå­—æœå°‹ï¼ˆKeyword Searchï¼‰
```

### 2. åœ°åœ–æ•´åˆ

- OpenStreetMap åº•åœ–
- è‡ªå‹•æ¨™è¨˜æ‰€æœ‰ç›£æ§ç«™ä½ç½®
- é»æ“Šæ¨™è¨˜æŸ¥çœ‹ç›£æ§ç«™è©³æƒ…
- å½ˆå‡ºè¦–çª—é¡¯ç¤ºå³æ™‚å½±åƒé€£çµ

### 3. è³‡æ–™ç®¡ç†æ¨¡çµ„

ä½¿ç”¨ `WaterCCTVManager` é¡åˆ¥é€²è¡Œè³‡æ–™ç®¡ç†ï¼š

```javascript
// è¼‰å…¥è³‡æ–™
await waterCCTVManager.loadStations(stationsData);

// å–å¾—ç¸£å¸‚åˆ—è¡¨
const cities = waterCCTVManager.getCities();

// å¥—ç”¨ç¯©é¸
waterCCTVManager.applyFilters({
    city: 'è‡ºå—å¸‚',
    basin: 'é¹½æ°´æºª',
    status: '1'
});

// æœå°‹
waterCCTVManager.search('å°å—');

// å–å¾—çµ±è¨ˆè³‡è¨Š
const stats = waterCCTVManager.getStatistics();
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### æ­¥é©Ÿ 1ï¼šæº–å‚™è³‡æ–™æª”æ¡ˆ

å°‡æ‚¨çš„æ°´åˆ©ç½²ç›£æ§ç«™ JSON è³‡æ–™å„²å­˜ç‚ºï¼š
```
Road-Camera/assets/water-cctv-data.json
```

æˆ–ä½¿ç”¨æä¾›çš„ PowerShell è…³æœ¬ç”Ÿæˆï¼š

```powershell
cd Road-Camera/scripts
.\generate-water-cctv-data.ps1
```

### æ­¥é©Ÿ 2ï¼šè³‡æ–™æ ¼å¼

ç¢ºä¿ JSON è³‡æ–™åŒ…å«ä»¥ä¸‹å¿…è¦æ¬„ä½ï¼š

```json
[
    {
        "cameraid": "16512",
        "cameraname": "å°å—æºªé ‚å¯®å¤§æ©‹",
        "countiesandcitieswherethemonitoringpointsarelocated": "è‡ºå—å¸‚",
        "administrativedistrictwherethemonitoringpointislocated": "æ°¸åº·å€",
        "basinname": "é¹½æ°´æºª",
        "tributary": "é¹½æ°´æºª",
        "latitude_4326": "23.0246667",
        "longitude_4326": "120.215645",
        "imageurl": "https://...",
        "status": "1",
        "rivercode": "165000",
        "imageformat": "JPG",
        "coordinate": "WGS84",
        "videosurveillancestationname": "å°å—æºªé ‚å¯®å¤§æ©‹"
    }
]
```

### æ­¥é©Ÿ 3ï¼šå•Ÿå‹•ç³»çµ±

1. **ä½¿ç”¨æœ¬åœ°ä¼ºæœå™¨**ï¼š
   ```bash
   cd Road-Camera
   python -m http.server 8080
   ```
   
   æˆ–
   
   ```powershell
   cd Road-Camera
   .\scripts\start-server.ps1
   ```

2. **é–‹å•Ÿç€è¦½å™¨**ï¼š
   ```
   http://localhost:8080/water-cctv.html
   ```

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

### æª”æ¡ˆçµæ§‹

```
Road-Camera/
â”œâ”€â”€ water-cctv.html                    # ä¸»é é¢
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ water-cctv-manager.js         # è³‡æ–™ç®¡ç†æ¨¡çµ„
â”‚   â”œâ”€â”€ water-cctv-data.json          # ç›£æ§ç«™è³‡æ–™æª”
â”‚   â”œâ”€â”€ modern-theme.css              # ç¾ä»£åŒ–ä¸»é¡Œæ¨£å¼
â”‚   â””â”€â”€ dark-mode.css                 # æ·±è‰²æ¨¡å¼æ”¯æ´
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ generate-water-cctv-data.ps1  # è³‡æ–™ç”Ÿæˆè…³æœ¬
â””â”€â”€ docs/
    â””â”€â”€ WATER-CCTV-SYSTEM-GUIDE.md    # æœ¬æ–‡ä»¶
```

### æŠ€è¡“å †ç–Š

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| HTML5 | - | é é¢çµæ§‹ |
| CSS3 | - | æ¨£å¼èˆ‡å‹•ç•« |
| JavaScript ES6+ | - | æ ¸å¿ƒé‚è¼¯ |
| Leaflet.js | 1.9.4 | åœ°åœ–åŠŸèƒ½ |
| Font Awesome | 6.4.0 | åœ–ç¤ºç³»çµ± |

---

## ğŸ“– ä½¿ç”¨èªªæ˜

### åŸºæœ¬æ“ä½œ

#### 1. ç€è¦½ç›£æ§ç«™

- ç³»çµ±è¼‰å…¥å¾Œè‡ªå‹•é¡¯ç¤ºæ‰€æœ‰ç›£æ§ç«™
- å¡ç‰‡å±•ç¤ºåŒ…å«å½±åƒã€ç«™åã€ä½ç½®è³‡è¨Š
- é»æ“Šå¡ç‰‡æŸ¥çœ‹è©³ç´°è³‡è¨Š

#### 2. ä½¿ç”¨ç¯©é¸å™¨

1. **ç¸£å¸‚ç¯©é¸**ï¼š
   - é¸æ“‡ç¸£å¸‚å¾Œï¼Œè¡Œæ”¿å€é¸å–®æœƒè‡ªå‹•æ›´æ–°
   - å¯é€²ä¸€æ­¥é¸æ“‡ç‰¹å®šè¡Œæ”¿å€

2. **æµåŸŸç¯©é¸**ï¼š
   - é¸æ“‡æµåŸŸå¾Œï¼Œæ”¯æµé¸å–®æœƒè‡ªå‹•æ›´æ–°
   - å¯é€²ä¸€æ­¥é¸æ“‡ç‰¹å®šæ”¯æµ

3. **é—œéµå­—æœå°‹**ï¼š
   - å³æ™‚æœå°‹ç«™åã€åœ°é»ã€æµåŸŸåç¨±
   - è‡ªå‹•æ›´æ–°åˆ—è¡¨å’Œåœ°åœ–æ¨™è¨˜

4. **å¥—ç”¨ç¯©é¸**ï¼š
   - é»æ“Šã€Œå¥—ç”¨ç¯©é¸ã€æŒ‰éˆ•åŸ·è¡Œç¯©é¸
   - é»æ“Šã€Œé‡ç½®ã€æ¸…é™¤æ‰€æœ‰ç¯©é¸æ¢ä»¶

#### 3. åœ°åœ–æ“ä½œ

- **ç¸®æ”¾**ï¼šä½¿ç”¨æ»‘é¼ æ»¾è¼ªæˆ– +/- æŒ‰éˆ•
- **å¹³ç§»**ï¼šæ‹–æ›³åœ°åœ–
- **æŸ¥çœ‹ç›£æ§ç«™**ï¼šé»æ“Šè—è‰²æ¨™è¨˜
- **é–‹å•Ÿè©³æƒ…**ï¼šé»æ“Šå½ˆå‡ºè¦–çª—ä¸­çš„ã€ŒæŸ¥çœ‹è©³ç´°è³‡è¨Šã€æŒ‰éˆ•

#### 4. æŸ¥çœ‹è©³ç´°è³‡è¨Š

ç›£æ§ç«™è©³ç´°è³‡è¨ŠåŒ…æ‹¬ï¼š

- **åŸºæœ¬è³‡è¨Š**ï¼šç›£æ§ç«™ IDã€ç«™åã€é‹ä½œç‹€æ…‹
- **åœ°ç†ä½ç½®**ï¼šç¸£å¸‚ã€è¡Œæ”¿å€ã€WGS84 åº§æ¨™
- **æ°´ç³»è³‡è¨Š**ï¼šæµåŸŸã€æ”¯æµã€æ²³å·ä»£ç¢¼
- **æŠ€è¡“è³‡è¨Š**ï¼šå½±åƒæ ¼å¼ã€åº§æ¨™ç³»çµ±
- **å³æ™‚å½±åƒ**ï¼šé»æ“Šã€Œé–‹å•Ÿå®Œæ•´å½±åƒã€å¯åœ¨æ–°è¦–çª—æŸ¥çœ‹

### é€²éšåŠŸèƒ½

#### è‡ªå®šç¾©è³‡æ–™ä¾†æº

ä¿®æ”¹ `water-cctv.html` ä¸­çš„è³‡æ–™è¼‰å…¥éƒ¨åˆ†ï¼š

```javascript
async function loadData() {
    try {
        // å¯æ›¿æ›ç‚ºæ‚¨çš„ API ç«¯é»
        const stationsData = await fetch('YOUR_API_ENDPOINT').then(r => r.json());
        await waterCCTVManager.loadStations(stationsData);
        
        initializeFilters();
        updateStatistics();
        initializeMap();
        displayStations();
    } catch (error) {
        console.error('è¼‰å…¥è³‡æ–™å¤±æ•—:', error);
    }
}
```

#### æ•´åˆåˆ°ç¾æœ‰ç³»çµ±

å°‡ç®¡ç†æ¨¡çµ„æ•´åˆåˆ°æ‚¨çš„å°ˆæ¡ˆï¼š

```html
<!-- å¼•å…¥å¿…è¦çš„åº« -->
<script src="assets/water-cctv-manager.js"></script>

<script>
// åœ¨æ‚¨çš„ä»£ç¢¼ä¸­ä½¿ç”¨
const manager = new WaterCCTVManager();
await manager.loadStations(yourData);

// å–å¾—ç¯©é¸å¾Œçš„çµæœ
const filtered = manager.applyFilters({
    city: 'è‡ºåŒ—å¸‚',
    status: '1'
});
</script>
```

---

## ğŸ“Š è³‡æ–™æ ¼å¼

### å¿…è¦æ¬„ä½

| æ¬„ä½åç¨± | é¡å‹ | èªªæ˜ | ç¯„ä¾‹ |
|---------|------|------|------|
| `cameraid` | String | ç›£æ§ç«™å”¯ä¸€è­˜åˆ¥ç¢¼ | "16512" |
| `cameraname` | String | ç›£æ§ç«™åç¨± | "å°å—æºªé ‚å¯®å¤§æ©‹" |
| `countiesandcitieswherethemonitoringpointsarelocated` | String | æ‰€åœ¨ç¸£å¸‚ | "è‡ºå—å¸‚" |
| `administrativedistrictwherethemonitoringpointislocated` | String | æ‰€åœ¨è¡Œæ”¿å€ | "æ°¸åº·å€" |
| `latitude_4326` | String/Number | WGS84 ç·¯åº¦ | "23.0246667" |
| `longitude_4326` | String/Number | WGS84 ç¶“åº¦ | "120.215645" |
| `imageurl` | String | å½±åƒ URL | "https://..." |
| `status` | String | é‹ä½œç‹€æ…‹ï¼ˆ1:é‹ä½œä¸­ï¼‰ | "1" |

### é¸å¡«æ¬„ä½

| æ¬„ä½åç¨± | é¡å‹ | èªªæ˜ |
|---------|------|------|
| `basinname` | String | æµåŸŸåç¨± |
| `tributary` | String | æ”¯æµåç¨± |
| `rivercode` | String | æ²³å·ä»£ç¢¼ |
| `imageformat` | String | å½±åƒæ ¼å¼ |
| `coordinate` | String | åº§æ¨™ç³»çµ± |
| `videosurveillancestationname` | String | è¦–è¨Šç›£æ¸¬ç«™åç¨± |

---

## â“ å¸¸è¦‹å•é¡Œ

### Q1: å½±åƒç„¡æ³•é¡¯ç¤ºï¼Ÿ

**A:** æª¢æŸ¥ä»¥ä¸‹é …ç›®ï¼š
1. ç¢ºèª `imageurl` æ ¼å¼æ­£ç¢º
2. æª¢æŸ¥ç¶²è·¯é€£ç·š
3. ç¢ºèªæ°´åˆ©ç½²å½±åƒæœå‹™æ­£å¸¸é‹ä½œ
4. æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°çš„éŒ¯èª¤è¨Šæ¯

### Q2: åœ°åœ–æ¨™è¨˜æœªé¡¯ç¤ºï¼Ÿ

**A:** ç¢ºèªï¼š
1. åº§æ¨™è³‡æ–™æ ¼å¼æ­£ç¢ºï¼ˆWGS84ï¼‰
2. `latitude_4326` å’Œ `longitude_4326` æ¬„ä½å­˜åœ¨
3. Leaflet.js åº«æ­£å¸¸è¼‰å…¥

### Q3: ç¯©é¸å™¨ä¸å·¥ä½œï¼Ÿ

**A:** æª¢æŸ¥ï¼š
1. JSON è³‡æ–™æ ¼å¼æ­£ç¢º
2. ç€è¦½å™¨æ§åˆ¶å°æ²’æœ‰ JavaScript éŒ¯èª¤
3. `water-cctv-manager.js` å·²æ­£ç¢ºè¼‰å…¥

### Q4: å¦‚ä½•æ›´æ–°è³‡æ–™ï¼Ÿ

**A:** æœ‰å…©ç¨®æ–¹å¼ï¼š
1. **æ‰‹å‹•æ›´æ–°**ï¼šæ›¿æ› `assets/water-cctv-data.json` æª”æ¡ˆ
2. **ä½¿ç”¨è…³æœ¬**ï¼šåŸ·è¡Œ `generate-water-cctv-data.ps1`

### Q5: å¯ä»¥è‡ªå®šç¾©æ¨£å¼å—ï¼Ÿ

**A:** å¯ä»¥ï¼ä¿®æ”¹ `water-cctv.html` ä¸­çš„ CSS è®Šæ•¸ï¼š

```css
:root {
    --primary-blue: #2c5aa0;      /* ä¸»è‰²èª¿ */
    --accent-cyan: #00bcd4;       /* å¼·èª¿è‰² */
    --success-green: #4caf50;     /* æˆåŠŸè‰² */
    --warning-orange: #ff9800;    /* è­¦å‘Šè‰² */
    --danger-red: #f44336;        /* å±éšªè‰² */
}
```

---

## ğŸ“ æŠ€è¡“æ”¯æ´

å¦‚é‡åˆ°å•é¡Œï¼Œè«‹æª¢æŸ¥ï¼š

1. **ç€è¦½å™¨æ§åˆ¶å°**ï¼šæŸ¥çœ‹éŒ¯èª¤è¨Šæ¯
2. **ç¶²è·¯è«‹æ±‚**ï¼šç¢ºèªè³‡æ–™æª”æ¡ˆå¯æ­£å¸¸è¼‰å…¥
3. **è³‡æ–™æ ¼å¼**ï¼šé©—è­‰ JSON æ ¼å¼æ­£ç¢ºæ€§

---

## ğŸ“ æ›´æ–°æ—¥èªŒ

### v1.0.0 (2025-11-06)

#### æ–°å¢åŠŸèƒ½
- âœ… å®Œæ•´çš„ç›£æ§ç«™ç®¡ç†ç³»çµ±
- âœ… äº’å‹•å¼åœ°åœ–æ•´åˆ
- âœ… å¤šç¶­åº¦ç¯©é¸åŠŸèƒ½
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ
- âœ… è©³ç´°è³‡è¨Šå½ˆå‡ºè¦–çª—
- âœ… å³æ™‚æœå°‹åŠŸèƒ½
- âœ… çµ±è¨ˆå„€è¡¨æ¿

#### æŠ€è¡“æ¶æ§‹
- âœ… æ¨¡çµ„åŒ– JavaScript è¨­è¨ˆ
- âœ… RESTful API æº–å‚™å°±ç·’
- âœ… å®Œæ•´çš„æ–‡ä»¶ç³»çµ±

---

## ğŸ“ å»¶ä¼¸å­¸ç¿’

### ç›¸é—œè³‡æº

- [Leaflet.js å®˜æ–¹æ–‡ä»¶](https://leafletjs.com/)
- [æ°´åˆ©ç½²é–‹æ”¾è³‡æ–™å¹³å°](https://data.wra.gov.tw/)
- [GeoJSON æ ¼å¼èªªæ˜](https://geojson.org/)

### é€²éšé–‹ç™¼å»ºè­°

1. **æ•ˆèƒ½å„ªåŒ–**ï¼š
   - å¯¦ä½œè™›æ“¬æ»¾å‹•ï¼ˆVirtual Scrollingï¼‰
   - ä½¿ç”¨ Web Workers è™•ç†å¤§é‡è³‡æ–™
   - å¯¦ä½œåˆ†é è¼‰å…¥

2. **åŠŸèƒ½æ“´å±•**ï¼š
   - æ–°å¢å½±åƒè‡ªå‹•æ›´æ–°ï¼ˆè¼ªè©¢æˆ– WebSocketï¼‰
   - å¯¦ä½œæ­·å²å½±åƒæŸ¥è©¢
   - æ•´åˆå¤©æ°£è³‡è¨Š
   - æ–°å¢è­¦å ±é€šçŸ¥åŠŸèƒ½

3. **è³‡æ–™è¦–è¦ºåŒ–**ï¼š
   -
